import{y as F,r as i,z as Qe,C as Xe,D as le,E as w,G as oe,x as Re,j as n,e as _e,u as ue,J as L,F as v,K as Be,I as Me,B as R,M as Oe,N as De,L as ee,T,k as I,n as Ve,o as ze,O as Ye,c as Je,H as Le,Q as Ze,R as et,A as Ne,U as Pe}from"./index-7e54b337.js";import{B as We}from"./index.esm-2cbc1620.js";function tt(e){const a=parseFloat(e);return typeof a!="number"||Number.isNaN(a)?0:a}function Ke(e,a){let s=tt(e);const r=10**(a??10);return s=Math.round(s*r)/r,a?s.toFixed(a):s.toString()}function Ee(e){if(!Number.isFinite(e))return 0;let a=1,s=0;for(;Math.round(e*a)/a!==e;)a*=10,s+=1;return s}function nt(e,a,s){return e==null?e:(s<a&&console.warn("clamp: max cannot be less than min"),Math.min(Math.max(e,a),s))}function at(e={}){const{onChange:a,precision:s,defaultValue:r,value:l,step:o=1,min:d=Number.MIN_SAFE_INTEGER,max:b=Number.MAX_SAFE_INTEGER,keepWithinRange:p=!0}=e,h=F(a),[k,A]=i.useState(()=>{var f;return r==null?"":(f=ce(r,o,s))!=null?f:""}),C=typeof l<"u",y=C?l:k,W=Ue(E(y),o),M=s??W,S=i.useCallback(f=>{f!==y&&(C||A(f.toString()),h==null||h(f.toString(),E(f)))},[h,C,y]),N=i.useCallback(f=>{let m=f;return p&&(m=nt(m,d,b)),Ke(m,M)},[M,p,b,d]),K=i.useCallback((f=o)=>{let m;y===""?m=E(f):m=E(y)+f,m=N(m),S(m)},[N,o,S,y]),U=i.useCallback((f=o)=>{let m;y===""?m=E(-f):m=E(y)-f,m=N(m),S(m)},[N,o,S,y]),H=i.useCallback(()=>{var f;let m;r==null?m="":m=(f=ce(r,o,s))!=null?f:d,S(m)},[r,s,o,S,d]),te=i.useCallback(f=>{var m;const ae=(m=ce(f,o,M))!=null?m:d;S(ae)},[M,o,S,d]),_=E(y);return{isOutOfRange:_>b||_<d,isAtMax:_===b,isAtMin:_===d,precision:M,value:y,valueAsNumber:_,update:S,reset:H,increment:K,decrement:U,clamp:N,cast:te,setValue:A}}function E(e){return parseFloat(e.toString().replace(/[^\w.-]+/g,""))}function Ue(e,a){return Math.max(Ee(a),Ee(e))}function ce(e,a,s){const r=E(e);if(Number.isNaN(r))return;const l=Ue(r,a);return Ke(r,s??l)}function st(e,a,s,r){const l=F(s);return i.useEffect(()=>{const o=typeof e=="function"?e():e??document;if(!(!s||!o))return o.addEventListener(a,l,r),()=>{o.removeEventListener(a,l,r)}},[a,e,r,l,s]),()=>{const o=typeof e=="function"?e():e??document;o==null||o.removeEventListener(a,l,r)}}function Te(e,a,s,r){i.useEffect(()=>{var l;if(!e.current||!r)return;const o=(l=e.current.ownerDocument.defaultView)!=null?l:window,d=Array.isArray(a)?a:[a],b=new o.MutationObserver(p=>{for(const h of p)h.type==="attributes"&&h.attributeName&&d.includes(h.attributeName)&&s(h)});return b.observe(e.current,{attributes:!0,attributeFilter:d}),()=>b.disconnect()})}function rt(e,a){const s=F(e);i.useEffect(()=>{let r=null;const l=()=>s();return a!==null&&(r=window.setInterval(l,a)),()=>{r&&window.clearInterval(r)}},[a,s])}var it=50,Fe=300;function lt(e,a){const[s,r]=i.useState(!1),[l,o]=i.useState(null),[d,b]=i.useState(!0),p=i.useRef(null),h=()=>clearTimeout(p.current);rt(()=>{l==="increment"&&e(),l==="decrement"&&a()},s?it:null);const k=i.useCallback(()=>{d&&e(),p.current=setTimeout(()=>{b(!1),r(!0),o("increment")},Fe)},[e,d]),A=i.useCallback(()=>{d&&a(),p.current=setTimeout(()=>{b(!1),r(!0),o("decrement")},Fe)},[a,d]),C=i.useCallback(()=>{b(!0),r(!1),h()},[]);return i.useEffect(()=>()=>h(),[]),{up:k,down:A,stop:C,isSpinning:s}}var ot=/^[Ee0-9+\-.]$/;function ct(e){return ot.test(e)}function ut(e,a){if(e.key==null)return!0;const s=e.ctrlKey||e.altKey||e.metaKey;return!(e.key.length===1)||s?!0:a(e.key)}function dt(e={}){const{focusInputOnChange:a=!0,clampValueOnBlur:s=!0,keepWithinRange:r=!0,min:l=Number.MIN_SAFE_INTEGER,max:o=Number.MAX_SAFE_INTEGER,step:d=1,isReadOnly:b,isDisabled:p,isRequired:h,isInvalid:k,pattern:A="[0-9]*(.[0-9]+)?",inputMode:C="decimal",allowMouseWheel:y,id:W,onChange:M,precision:S,name:N,"aria-describedby":K,"aria-label":U,"aria-labelledby":H,onFocus:te,onBlur:_,onInvalid:de,getAriaValueText:me,isValidCharacter:ne,format:f,parse:m,...ae}=e,se=F(te),fe=F(_),D=F(de),q=F(ne??ct),re=F(me),c=at(e),{update:V,increment:be,decrement:xe}=c,[He,ie]=i.useState(!1),G=!(b||p),P=i.useRef(null),$=i.useRef(null),pe=i.useRef(null),he=i.useRef(null),Q=i.useCallback(t=>t.split("").filter(q).join(""),[q]),X=i.useCallback(t=>{var u;return(u=m==null?void 0:m(t))!=null?u:t},[m]),O=i.useCallback(t=>{var u;return((u=f==null?void 0:f(t))!=null?u:t).toString()},[f]);Qe(()=>{(c.valueAsNumber>o||c.valueAsNumber<l)&&(D==null||D("rangeOverflow",O(c.value),c.valueAsNumber))},[c.valueAsNumber,c.value,O,D]),Xe(()=>{if(!P.current)return;if(P.current.value!=c.value){const u=X(P.current.value);c.setValue(Q(u))}},[X,Q]);const Y=i.useCallback((t=d)=>{G&&be(t)},[be,G,d]),J=i.useCallback((t=d)=>{G&&xe(t)},[xe,G,d]),g=lt(Y,J);Te(pe,"disabled",g.stop,g.isSpinning),Te(he,"disabled",g.stop,g.isSpinning);const ge=i.useCallback(t=>{if(t.nativeEvent.isComposing)return;const x=X(t.currentTarget.value);V(Q(x)),$.current={start:t.currentTarget.selectionStart,end:t.currentTarget.selectionEnd}},[V,Q,X]),ve=i.useCallback(t=>{var u,x,j;se==null||se(t),$.current&&(t.target.selectionStart=(x=$.current.start)!=null?x:(u=t.currentTarget.value)==null?void 0:u.length,t.currentTarget.selectionEnd=(j=$.current.end)!=null?j:t.currentTarget.selectionStart)},[se]),ye=i.useCallback(t=>{if(t.nativeEvent.isComposing)return;ut(t,q)||t.preventDefault();const u=je(t)*d,x=t.key,B={ArrowUp:()=>Y(u),ArrowDown:()=>J(u),Home:()=>V(l),End:()=>V(o)}[x];B&&(t.preventDefault(),B(t))},[q,d,Y,J,V,l,o]),je=t=>{let u=1;return(t.metaKey||t.ctrlKey)&&(u=.1),t.shiftKey&&(u=10),u},Ce=i.useMemo(()=>{const t=re==null?void 0:re(c.value);if(t!=null)return t;const u=c.value.toString();return u||void 0},[c.value,re]),Se=i.useCallback(()=>{let t=c.value;if(c.value==="")return;/^[eE]/.test(c.value.toString())?c.setValue(""):(c.valueAsNumber<l&&(t=l),c.valueAsNumber>o&&(t=o),c.cast(t))},[c,o,l]),we=i.useCallback(()=>{ie(!1),s&&Se()},[s,ie,Se]),Z=i.useCallback(()=>{a&&requestAnimationFrame(()=>{var t;(t=P.current)==null||t.focus()})},[a]),ke=i.useCallback(t=>{t.preventDefault(),g.up(),Z()},[Z,g]),Ae=i.useCallback(t=>{t.preventDefault(),g.down(),Z()},[Z,g]);st(()=>P.current,"wheel",t=>{var u,x;const B=((x=(u=P.current)==null?void 0:u.ownerDocument)!=null?x:document).activeElement===P.current;if(!y||!B)return;t.preventDefault();const z=je(t)*d,Ie=Math.sign(t.deltaY);Ie===-1?Y(z):Ie===1&&J(z)},{passive:!1});const qe=i.useCallback((t={},u=null)=>{const x=p||r&&c.isAtMax;return{...t,ref:le(u,pe),role:"button",tabIndex:-1,onPointerDown:w(t.onPointerDown,j=>{j.button!==0||x||ke(j)}),onPointerLeave:w(t.onPointerLeave,g.stop),onPointerUp:w(t.onPointerUp,g.stop),disabled:x,"aria-disabled":oe(x)}},[c.isAtMax,r,ke,g.stop,p]),Ge=i.useCallback((t={},u=null)=>{const x=p||r&&c.isAtMin;return{...t,ref:le(u,he),role:"button",tabIndex:-1,onPointerDown:w(t.onPointerDown,j=>{j.button!==0||x||Ae(j)}),onPointerLeave:w(t.onPointerLeave,g.stop),onPointerUp:w(t.onPointerUp,g.stop),disabled:x,"aria-disabled":oe(x)}},[c.isAtMin,r,Ae,g.stop,p]),$e=i.useCallback((t={},u=null)=>{var x,j,B,z;return{name:N,inputMode:C,type:"text",pattern:A,"aria-labelledby":H,"aria-label":U,"aria-describedby":K,id:W,disabled:p,...t,readOnly:(x=t.readOnly)!=null?x:b,"aria-readonly":(j=t.readOnly)!=null?j:b,"aria-required":(B=t.required)!=null?B:h,required:(z=t.required)!=null?z:h,ref:le(P,u),value:O(c.value),role:"spinbutton","aria-valuemin":l,"aria-valuemax":o,"aria-valuenow":Number.isNaN(c.valueAsNumber)?void 0:c.valueAsNumber,"aria-invalid":oe(k??c.isOutOfRange),"aria-valuetext":Ce,autoComplete:"off",autoCorrect:"off",onChange:w(t.onChange,ge),onKeyDown:w(t.onKeyDown,ye),onFocus:w(t.onFocus,ve,()=>ie(!0)),onBlur:w(t.onBlur,fe,we)}},[N,C,A,H,U,O,K,W,p,h,b,k,c.value,c.valueAsNumber,c.isOutOfRange,l,o,Ce,ge,ye,ve,fe,we]);return{value:O(c.value),valueAsNumber:c.valueAsNumber,isFocused:He,isDisabled:p,isReadOnly:b,getIncrementButtonProps:qe,getDecrementButtonProps:Ge,getInputProps:$e,htmlProps:ae}}var mt=Re({displayName:"MinusIcon",path:n.jsx("g",{fill:"currentColor",children:n.jsx("rect",{height:"4",width:"20",x:"2",y:"10"})})}),ft=Re({d:"M0,12a1.5,1.5,0,0,0,1.5,1.5h8.75a.25.25,0,0,1,.25.25V22.5a1.5,1.5,0,0,0,3,0V13.75a.25.25,0,0,1,.25-.25H22.5a1.5,1.5,0,0,0,0-3H13.75a.25.25,0,0,1-.25-.25V1.5a1.5,1.5,0,0,0-3,0v8.75a.25.25,0,0,1-.25.25H1.5A1.5,1.5,0,0,0,0,12Z",displayName:"AddIcon"});const bt=({product:e})=>{const a=_e(),{setQuantity:s,deleteFromCart:r,toggleSaved:l}=ue(),o=+e.price*+e.quantity;return n.jsx(L,{display:{base:"none",bigTablet:"block"},opacity:0,initial:{opacity:0},animate:{opacity:1,transition:{duration:.5}},layout:!0,transition:{type:"spring",stiffness:600,damping:30},children:n.jsxs(L,{display:{base:"none",bigTablet:"flex"},boxShadow:"base",mb:4,rounded:"base",exit:{opacity:0},children:[n.jsxs(v,{as:Be,p:3,w:"70%",borderRight:"2px solid",borderColor:"blackAlpha.200",_hover:{".product-title":{color:"appBlue.600"}},children:[n.jsxs(v,{align:"center",justify:"center",w:"140px",h:"140px",mr:4,children:[n.jsx(Me,{"data-src":e.image,className:"lazyload",maxW:"100%",maxH:"100%",objectFit:"contain"}),n.jsx(R,{w:"140px",h:"140px",children:n.jsx(Oe,{height:"140px",style:{transform:"none"},animation:"wave"})})]}),n.jsxs(v,{direction:"column",justify:"space-between",overflow:"auto",children:[n.jsx(R,{children:n.jsx(De,{as:ee,to:`/products/${e.id}`,className:"product-title",children:n.jsx(T,{fontWeight:"medium",children:e.title})})}),n.jsxs(v,{flexWrap:"wrap",mt:2,children:[n.jsx(I,{leftIcon:e.isSaved?n.jsx(Ve,{}):n.jsx(ze,{}),colorScheme:"appBlue",variant:"ghost",size:"sm",onClick:()=>{a({title:e.isSaved?"Product successfully removed from your saved items":"Product successfully added to your saved items",status:"success",duration:1500,isClosable:!0}),l(e.id)},children:"Save Item"}),n.jsx(I,{leftIcon:n.jsx(We,{}),colorScheme:"red",variant:"ghost",size:"sm",onClick:()=>r(e.id),children:"Remove Item"})]})]})]}),n.jsx(v,{w:"30%",borderRight:"2px solid",borderColor:"blackAlpha.200",justify:"center",align:"center",children:n.jsx(Ye,{size:"sm",minW:12,maxW:16,m:"auto",rounded:"md",value:e.quantity,onChange:d=>s(d.target.value,e.id),children:Array(10).fill("").map((d,b)=>n.jsx("option",{value:b+1,children:b+1},b))})}),n.jsxs(v,{w:"30%",borderRight:"2px solid",borderColor:"blackAlpha.200",fontWeight:"bold",fontSize:"lg",justify:"center",align:"center",children:["$",e.price]}),n.jsxs(v,{w:"30%",fontWeight:"bold",fontSize:"lg",justify:"center",align:"center",color:"appBlue.600",children:["$",o.toFixed(2)]})]})})},xt=Je(We),pt=({product:e})=>{const a=_e(),s=+e.price*+e.quantity,{deleteFromCart:r,incrementQty:l,decrementQty:o,toggleSaved:d}=ue(),{getInputProps:b,getIncrementButtonProps:p,getDecrementButtonProps:h}=dt(),k=p(),A=h(),C=b();return n.jsx(L,{display:{base:"block",bigTablet:"none"},opacity:0,initial:{opacity:0},animate:{opacity:1,transition:{duration:.5}},layout:!0,transition:{type:"spring",stiffness:600,damping:30},children:n.jsxs(L,{display:{base:"flex",bigTablet:"none"},flexDirection:"column",boxShadow:"base",p:3,mb:4,rounded:"base",exit:{opacity:0},children:[n.jsxs(v,{as:Be,p:1,borderBottom:"1px solid",borderColor:"blackAlpha.200",_hover:{".product-title":{color:"appBlue.600"}},children:[n.jsxs(v,{align:"center",justify:"center",w:"120px",h:"120px",mr:2,children:[n.jsx(Me,{"data-src":e.image,className:"lazyload",maxW:"100%",maxH:"100%",objectFit:"contain"}),n.jsx(R,{w:"120px",h:"120px",children:n.jsx(Oe,{height:"120px",style:{transform:"none"},animation:"wave"})})]}),n.jsxs(v,{direction:"column",flex:1,children:[n.jsx(R,{children:n.jsx(De,{as:ee,to:`/products/${e.id}`,className:"product-title",children:n.jsx(T,{fontWeight:"medium",children:e.title})})}),n.jsxs(R,{mt:2,fontWeight:"bold",fontSize:"lg",color:"appBlue.600",children:["$",s.toFixed(2)]})]})]}),n.jsxs(v,{mt:3,children:[n.jsx(I,{colorScheme:"appBlue",variant:"ghost",size:"md",onClick:()=>{a({title:e.isSaved?"Product successfully removed from your saved items":"Product successfully added to your saved items",status:"success",duration:1500,isClosable:!0}),d(e.id)},px:2,borderRight:"1px solid",borderColor:"blackAlpha.200",children:e.isSaved?n.jsx(Ve,{}):n.jsx(ze,{})}),n.jsxs(I,{colorScheme:"red",variant:"ghost",size:"md",px:2,onClick:()=>r(e.id),children:[n.jsx(xt,{mr:1,sx:{"@media(max-width:365px)":{marginRight:0}}}),n.jsx(R,{as:"span",fontSize:"sm",sx:{"@media(max-width:365px)":{display:"none"}},children:"Remove Item"})]}),n.jsxs(Le,{spacing:1,w:"100px",justify:"center",align:"center",ml:"auto",children:[n.jsx(I,{size:"xs",colorScheme:"appBlue",rounded:"full",...A,disabled:+e.quantity==1,onClick:()=>o(e.id),w:"17.5%",children:n.jsx(mt,{})}),n.jsx(Ze,{size:"sm",...C,value:e.quantity,readOnly:!0,pattern:"^[-+]?[0-9]\\d*(\\.\\d+)?$",w:"65%",textAlign:"center",border:"none",borderBottom:"1px solid #00000014"}),n.jsx(I,{size:"xs",colorScheme:"appBlue",rounded:"full",...k,disabled:+e.quantity==10,onClick:()=>l(e.id),w:"17.5%",children:n.jsx(ft,{})})]})]})]})})},vt=()=>{const{products:e,totalPrice:a}=ue(),s=e.flatMap(l=>l.inCart===!0?l:[]),[r]=et("(min-width: 345px)");return n.jsxs(v,{w:"90%",mx:"auto",direction:"column",p:3,children:[n.jsxs(v,{display:{base:"none",bigTablet:"flex"},fontWeight:"bold",fontSize:"lg",mb:3,color:"gray.600",children:[n.jsx(T,{w:"70%",pl:3,children:"Item"}),n.jsx(T,{w:"30%",pl:3,children:"Quantity"}),n.jsx(T,{w:"30%",pl:3,children:"Unit Price"}),n.jsx(T,{w:"30%",pl:3,children:"Sub-total"})]}),n.jsx(R,{display:{base:"block",bigTablet:"none"},fontWeight:"bold",fontSize:"lg",mb:3,color:"gray.600",children:"MY CART"}),n.jsx(Ne,{children:s.map(l=>n.jsx(bt,{product:l},l.id))}),n.jsx(Ne,{children:s.map(l=>n.jsx(pt,{product:l},l.id))}),s.length>0?n.jsxs(n.Fragment,{children:[n.jsxs(v,{mb:4,justifyContent:"space-between",w:{base:"100%",bigTablet:"150px"},alignSelf:{base:void 0,bigTablet:"flex-end"},children:[n.jsx(T,{fontSize:"lg",fontWeight:"semibold",children:"Total:"}),n.jsxs(R,{as:"span",fontWeight:"bold",color:"appBlue.600",fontSize:"xl",children:["$",a.toFixed(2)]})]}),n.jsxs(Le,{spacing:4,alignSelf:"flex-end",children:[n.jsx(Pe,{as:ee,to:"/",_hover:{textDecoration:"none"},children:n.jsx(I,{colorScheme:"gray",boxShadow:"md",size:r?"md":"sm",children:"Continue Shopping"})}),n.jsx(I,{colorScheme:"red",boxShadow:"md",size:r?"md":"sm",children:"Checkout"})]})]}):n.jsxs(L,{opacity:0,initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[n.jsx(T,{mb:4,children:"No Items in your cart"}),n.jsx(Pe,{as:ee,to:"/",_hover:{textDecoration:"none"},children:n.jsx(I,{colorScheme:"gray",boxShadow:"md",children:"Continue Shopping"})})]})]})};export{vt as default};
